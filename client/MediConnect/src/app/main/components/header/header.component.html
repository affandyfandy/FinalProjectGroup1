<div
  class="px-4 py-5 mx-auto sm:max-w-xl md:max-w-full lg:max-w-screen-xl md:px-24 lg:px-8"
>
  <div class="relative flex items-center justify-between">
    <a
      routerLink="/"
      aria-label="Company"
      title="Company"
      class="inline-flex items-center z-50"
    >
      <span
        class="ml-2 text-xl font-bold text-fpt-colors tracking-wide uppercase"
      >
        MediConnect
      </span>
    </a>

    <ul class="flex items-center hidden space-x-8 lg:flex">
      <li>
        <a
          routerLink="/services"
          aria-label="Services"
          title="Services"
          class="font-medium tracking-wide text-gray-700 transition-all duration-200 hover:text-gray-900"
          >Services</a
        >
      </li>
      <li>
        <a
          routerLink="/about"
          aria-label="About us"
          title="About us"
          class="font-medium tracking-wide text-gray-700 transition-all duration-200 hover:text-gray-900"
          >About us</a
        >
      </li>

      <!-- Avatar and Logout Button (Show if Logged In) -->
      <li *ngIf="isLoggedIn">
        <div
          class="flex items-center space-x-5 hover:bg-orange-1/80 rounded-3xl"
        >
          <div
            class="relative"
            (mouseenter)="showLogout = true"
            (mouseleave)="showLogout = false"
          >
            <button
              hlmBtn
              varian="outline"
              class="flex flex-row-reverse space-x-3 gap-x-4 py-6 text-center rounded-full font-semibold tracking-wide text-gray-900 border-2 border-fpt-colors"
            >
              <hlm-avatar>
                <img src="#" alt="{{ username }}" hlmAvatarImage />
                <span class="bg-destructive" hlmAvatarFallback>{{
                  username
                }}</span>
              </hlm-avatar>
              <div class="flex flex-col text-start md:block hidden">
                <div class="text-base font-semibold">
                  {{ username }}
                </div>
                <div class="text-slate-700 text-xs">{{ users?.email }}</div>
              </div>
            </button>
            <!-- Dropdown Logout Button -->
            <div
              *ngIf="showLogout"
              class="absolute bg-white rounded-lg text-gray-900 right-0 w-52"
            >
              <button
                (click)="handleLogout()"
                class="block text-gray-700 w-full bg-white shadow mt-2 text-left px-4 py-4 rounded-lg font-medium text-sm hover:bg-gray-100"
              >
                Logout
              </button>
            </div>
          </div>
        </div>
      </li>

      <!-- Login Button (Show if Not Logged In) -->
      <li *ngIf="!isLoggedIn">
        <a
          routerLink="/signin"
          class="text-center px-8 py-2 font-semibold tracking-wide text-white transition duration-200 rounded-full drop-shadow-button-dropShadow-fpt shadow-md bg-fpt-colors"
          aria-label="Login"
          title="Login"
        >
          Login
        </a>
      </li>
    </ul>

    <!-- Mobile Menu -->
    <div class="lg:hidden">
      <button
        (click)="toggleMenu()"
        aria-label="Open Menu"
        title="Open Menu"
        class="p-2 -mr-1 transition duration-200 rounded focus:outline-none focus:shadow-outline hover:bg-deep-purple-50 focus:bg-deep-purple-50"
      >
        <svg class="w-5 text-gray-600" viewBox="0 0 24 24">
          <path
            fill="currentColor"
            d="M23,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h22c0.6,0,1,0.4,1,1S23.6,13,23,13z"
          ></path>
          <path
            fill="currentColor"
            d="M23,6H1C0.4,6,0,5.6,0,5s0.4-1,1-1h22c0.6,0,1,0.4,1,1S23.6,6,23,6z"
          ></path>
          <path
            fill="currentColor"
            d="M23,20H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h22c0.6,0,1,0.4,1,1S23.6,20,23,20z"
          ></path>
        </svg>
      </button>

      <!-- Mobile Menu Dropdown -->
      <div
        *ngIf="isOpen"
        class="hamburger-menu fixed inset-0 bg-opacity-95 z-40 text-gray-900 bg-fpt-colors/50"
      >
        <div class="w-full flex flex-col space-y-4 p-6 pt-20 bg-white">
          <a
            routerLink="/services"
            aria-label="Services"
            title="Services"
            class="font-medium tracking-wide text-gray-700 transition-all duration-200 hover:text-gray-900"
            >Services</a
          >
          <a
            routerLink="/about"
            aria-label="About us"
            title="About us"
            class="font-medium tracking-wide text-gray-700 transition-all duration-200 hover:text-gray-900"
            >About us</a
          >
          <!-- Logout button (show only if logged in) -->
          <button
            *ngIf="isLoggedIn"
            (click)="handleLogout()"
            class="text-lg border border-black hover:font-semibold p-2 rounded-xl text-center"
          >
            Logout
          </button>

          <!-- Login button (show only if not logged in) -->
          <a
            *ngIf="!isLoggedIn"
            routerLink="/signin"
            class="text-lg border border-black hover:font-semibold p-2 rounded-xl text-center"
          >
            Login
          </a>
        </div>
      </div>
    </div>
  </div>
</div>
